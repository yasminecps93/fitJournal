<div>
	<ion-header-bar  class="widget-header">
		<button class="button button-icon" ng-click="deleteWidget($index, extraWidget.id)">
			<i class="ion-android-close"></i>
		</button>
	    <div class="h3 title">Food Intake</div>
		
		<button class="button button-icon" ng-click="openModal(1)">
			<i class="ion-android-create"></i>
		</button>
	</ion-header-bar>

	<ion-content>
		<div>
			Total Calories In: {{totalCal}} kcal
		</div>
		<ion-list>
	   		<ion-item class="item item-divider item-button-right">
	    		Breakfast ({{breakfastCal}} kcal)
	    		<button class="button" ng-class="{'icon ion-ios-arrow-down': !showBreakfast, 'icon ion-ios-arrow-up': showBreakfast}"ng-click="toggleBreakfast()"></button>
	    	</ion-item>
	    </ion-list>
	    <ion-list ng-show="showBreakfast">
			<ion-item ng-repeat="item in breakfastList track by $index">
				{{item.foodName}}, {{item.foodCal}}
			</ion-item>
	   	</ion-list>
	   	<ion-list>
	   		<ion-item class="item item-divider item-button-right">
	    		Lunch ({{lunchCal}} kcal)
	    		<button class="button" ng-class="{'icon ion-ios-arrow-down': !showLunch, 'icon ion-ios-arrow-up': showLunch}"ng-click="toggleLunch()"></button>
	    	</ion-item>
	    </ion-list>
	    <ion-list ng-show="showLunch">
	    	<ion-item ng-repeat="entry in lunchList track by $index">
				 {{entry.foodName}}, {{entry.foodCal}}				    		
			</ion-item>
	   	</ion-list>
	   	<ion-list >
	   		<ion-item class="item item-divider item-button-right">
	    		Dinner ({{dinnerCal}} kcal)
	    		<button class="button" ng-class="{'icon ion-ios-arrow-down': !showDinner, 'icon ion-ios-arrow-up': showDinner}"ng-click="toggleDinner()"></button>
	    	</ion-item>
	    </ion-list>
	    <ion-list ng-show="showDinner">
	    	<ion-item ng-repeat="entry in dinnerList track by $index">
				{{entry.foodName}}, {{entry.foodCal}}
			</ion-item>
	   	</ion-list>
	   	<ion-list>
	   		<ion-item class="item item-divider item-button-right">
	    		Snack ({{snackCal}} kcal)
	    		<button class="button" ng-class="{'icon ion-ios-arrow-down': !showSnack, 'icon ion-ios-arrow-up': showSnack}"ng-click="toggleSnack()"></button>
	    	</ion-item>
	    </ion-list>
	    <ion-list ng-show="showSnack">
	    	<ion-item ng-repeat="entry in snackList track by $index">
				{{entry.foodName}}, {{entry.foodCal}}
			</ion-item>
	   	</ion-list>
	</ion-content>
</div>

<script type="text/ng-template" id="add-food-modal.html">
	<ion-modal-view>
		<ion-header-bar>
			<a ng-click="closeModal(1)"><i class="ion-ios-arrow-left"></i></a>
			 <div class="h1 title">Food Intake</div>
			<div class="buttons">
		    	<button class="button button-dark" ng-click="toggleEdit()">{{editButtonLabel}}</button>
		  	</div>
			
		</ion-header-bar>
		<ion-content>
			<ion-list>
		   		<ion-item class="item item-divider item-button-right">
		    		Breakfast ({{breakfastCal}} kcal)
			    	<button class="button" ng-click="openModal(2); setAsBreakfast()">
			    		<i class="icon ion-android-add" ></i>
			    	</button>
		    	</ion-item>
		    </ion-list>
		    <ion-list show-delete="shouldShowDelete">
					    	<ion-item ng-repeat="item in breakfastList track by $index">
					    		{{item.foodName}}, {{item.foodCal}}
					    		<ion-delete-button class="ion-minus-circled" ng-click="deleteBreakfast($index,item.id)"></ion-delete-button>
					    	</ion-item>
		   	</ion-list>
		   	<ion-list>
		   		<ion-item class="item item-divider item-button-right">
		    		Lunch ({{lunchCal}} kcal)
			    	<button class="button" ng-click="openModal(2); setAsLunch()">Add</button>
		    	</ion-item>
		    </ion-list>
		    <ion-list show-delete="shouldShowDelete">
		    				<ion-item ng-repeat="entry in lunchList track by $index">
					    		{{entry.foodName}}, {{entry.foodCal}}
					    		<ion-delete-button class="ion-minus-circled" ng-click="deleteLunch($index,entry.id)"></ion-delete-button>
					    	</ion-item>
		   	</ion-list>
		   	<ion-list >
		   		<ion-item class="item item-divider item-button-right">
		    		Dinner ({{dinnerCal}} kcal)
			    	<button class="button" ng-click="openModal(2); setAsDinner()">
			    		<i class="icon ion-android-add" ></i>
			    	</button>
		    	</ion-item>
		    </ion-list>
		    <ion-list show-delete="shouldShowDelete">
		    				<ion-item ng-repeat="entry in dinnerList track by $index">
					    		{{entry.foodName}}, {{entry.foodCal}}
					    		<ion-delete-button class="ion-minus-circled" ng-click="deleteDinner($index,entry.id)"></ion-delete-button>
					    	</ion-item>
		   	</ion-list>
		   	<ion-list>
		   		<ion-item class="item item-divider item-button-right">
		    		Snack ({{snackCal}} kcal)
			    	<button class="button" ng-click="openModal(2); setAsSnack()">
			    		<i class="icon ion-android-add" ></i>
			    	</button>
		    	</ion-item>
		    </ion-list>
		    <ion-list show-delete="shouldShowDelete">
		    				<ion-item ng-repeat="entry in snackList track by $index">
					    		{{entry.foodName}}, {{entry.foodCal}}
					    		<ion-delete-button class="ion-minus-circled" ng-click="deleteSnack($index,entry.id)"></ion-delete-button>
					    	</ion-item>
		   	</ion-list>
		</ion-content>
	</ion-modal-view>
</script>

<script id="meals-modal.html" type="text/ng-template">
  <ion-modal-view>
    <ion-header-bar>
     <div class="buttons">
	      <button class="button button-dark" ng-click="closeModal(2)">Back</button>
	  </div>
      <h1 class="title">{{headerToEdit}}</h1>
    </ion-header-bar>

	<ion-tabs class="tabs-top tabs-positive has-header">
		<ion-tab title="ADD NEW" href="#/tab/new">
			<ion-view>
				<ion-content>
					
			    	<div class="list list-inset">
			    		<label class="item item-input">		
			    			<input type="text" ng-model="foodName.name" placeholder="Food item">
			    			<i class="icon ion-search placeholder-icon"></i>
			    		</label>
			    		<label class="item item-input">	
			    			<span class="input-label">Calories</span>	
			    			<input type="number" ng-model="foodCal.value">
			    		</label>
			    		<button class="button button-block button-calm" ng-click="addNewEntry()">Add new</button>
			    		<ion-list>
							<ion-item class="item item-divider">
					    		Recently used
					    	</ion-item>
					    	<ion-item class="item item-button-right" ng-repeat="entry in arrayList | filter:foodName.name" >
				    		{{entry.foodName}} ({{entry.foodCal}} kcal)
				    			<button class="button" ng-click="addNewEntryByFiltered(entry.foodName,entry.foodCal)">
				    				<i class="icon ion-android-add" ></i>
				    			</button>
				    		</ion-item>
						</ion-list>
			    	</div>

			    </ion-content>
			</ion-view>
		</ion-tab>
		<ion-tab title="SEARCH" href="#/tab/search">
			<ion-view>
				<ion-content>
			    	<div class="list list-inset">
			    		<label class="item item-input">		
			    			<input type="text" ng-model="searchName.name" placeholder="Search">
			    			<i class="icon ion-search placeholder-icon"></i>
			    		</label>
						<ion-list>
							<ion-item class="item item-divider item-button-right">
					    		Items
					    	</ion-item>
						</ion-list>
			    	</div>
			    </ion-content>
			</ion-view>
		</ion-tab>
	</ion-tabs>    
    
  </ion-modal-view>
</script>